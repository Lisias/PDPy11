.EXTERN ALL

; HDD registers
REG_DATA       = 177756
REG_ERROR      = 177754
REG_SECTOR_CNT = 177752
REG_SECTOR     = 177750
REG_CYL_LOW    = 177746
REG_CYL_HIGH   = 177744
REG_HEAD       = 177742
REG_CMD        = 177740
STATUS_ERR     = 1.
STATUS_DRQ     = 8.
STATUS_DSC     = 16.
STATUS_BSY     = 128.

; System registers
SEL2           = 177714
SEL1           = 177716
SMKPAGE        = 177130
OZU10          = 120
OZU11          = 40
REG_SCR_PAGE   = 177662
REG_SCR_SCRL   = 177664

; Constants
CONSTANTS              = 156000
OLD_DATA0_BLOCK        = 2320
OLD_OVL0_BLOCK         = 2322
OLD_DATA1_BLOCK        = 2324
OLD_OVL1_BLOCK         = 2326
OLD_LD2HEAD            = 2354
OLD_LD2CYL             = 2356
OLD_CREDITS_BLOCK      = 2360
OLD_LDHEAD             = 2350
OLD_LDCYL              = 2352
DATA0_SECTORS          = CONSTANTS + 12
OVL0_SECTORS           = CONSTANTS + 22
DATA1_SECTORS          = CONSTANTS + 24
OVL1_SECTORS           = CONSTANTS + 26
TOTAL_SECTORS          = CONSTANTS + 1700
TOTAL_HEADS            = CONSTANTS + 1704
SEEK                   = CONSTANTS + 1710
DATA0_BLOCK            = CONSTANTS + 1720
OVL0_BLOCK             = CONSTANTS + 1722
DATA1_BLOCK            = CONSTANTS + 1724
OVL1_BLOCK             = CONSTANTS + 1726
CREDITS_BLOCK          = CONSTANTS + 1732
LDHEAD                 = CONSTANTS + 1750
LDCYL                  = CONSTANTS + 1752
LD2HEAD                = CONSTANTS + 1754
LD2CYL                 = CONSTANTS + 1756
IS_2ND_VOLUME          = CONSTANTS + 1760
MKDOS                  = CONSTANTS + 1776


; Constants
CONSTANTS              = 156000
DATA0_SECTORS          = CONSTANTS + 12
CRC_STEP               = CONSTANTS + 14
CRC_COUNT              = CONSTANTS + 16
LOADER_WIDTH           = CONSTANTS + 20
OVL0_SECTORS           = CONSTANTS + 22
DATA1_SECTORS          = CONSTANTS + 24
OVL1_SECTORS           = CONSTANTS + 26
FIRST_PALETTE          = CONSTANTS + 30
BUFFER_OFFSET          = CONSTANTS + 1400
TOTAL_SECTORS          = CONSTANTS + 1700
TOTAL_HEADS            = CONSTANTS + 1704
TOTAL_HEADS_COM        = CONSTANTS + 1706
SEEK                   = CONSTANTS + 1710
T_REG_CYL_LOW          = CONSTANTS + 1712
T_REG_CYL_HIGH         = CONSTANTS + 1714
T_REG_HEAD             = CONSTANTS + 1716
DATA0_BLOCK            = CONSTANTS + 1720
OVL0_BLOCK             = CONSTANTS + 1722
DATA1_BLOCK            = CONSTANTS + 1724
OVL1_BLOCK             = CONSTANTS + 1726
SECTORS_LEFT           = CONSTANTS + 1730
CREDITS_BLOCK          = CONSTANTS + 1732
ZERO_ADDRESS           = CONSTANTS + 1742
LOOPBACK_ADDRESS       = CONSTANTS + 1744
EMPTY_ADDRESS          = CONSTANTS + 1746
LDHEAD                 = CONSTANTS + 1750
LDCYL                  = CONSTANTS + 1752
LD2HEAD                = CONSTANTS + 1754
LD2CYL                 = CONSTANTS + 1756
IS_2ND_VOLUME          = CONSTANTS + 1760
MKDOS                  = CONSTANTS + 1776

CREDITS_ADDR           = 6000